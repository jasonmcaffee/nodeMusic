<html>
  <head>
	  <!--<meta name="viewport" content="" />  initial-scale=.02; minimum-scale=0.1; width=device-width; maximum-scale=40.0; user-scalable=1;-->
	  <!-- <meta name="viewport" content="width=device-width, initial-scale=1.5, user-scalable=yes">-->
		<meta name="viewport" content="initial-scale=1; width=device-width; user-scalable=0;" />
	  <meta name="apple-mobile-web-app-capable" content="yes">
	  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
	  
      <meta http-equiv="X-UA-Compatible" content="IE=9" />
      
      <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/>
      
      <title>Node Music</title>
      
      <script type="text/javascript" src="/html/scripts/jqueryMin.js"></script>
      <script type="text/javascript" src="/html/scripts/underscore-min.js"></script>
      <script type="text/javascript" src="/html/scripts/jquery.jplayer.min.js"></script>
      
      <link type="text/css" rel="stylesheet" href="/html/css/nodeMusic.css"/>
      <link type="text/css" rel="stylesheet" href="/html/css/musicItemsPlayer.css"/>
      <script type="text/javascript" src="/html/scripts/musicItemsPlayer.js"></script>
      <script type="text/javascript">
		
      	$(document).ready(function(){
          	//assign json musicItems generated by the server template:
          	musicItemsPlayer.musicItems = [ <%for (var i in musicItems) { var musicItem = musicItems[i];%><%h JSON.stringify(musicItem) %> <% if(i < musicItems.length - 1){%>, <%}}%>];
			//initialize the player
      		musicItemsPlayer.init();
      		
      	});

      </script>
      <script id="tableTemplate" type="text/html">
      	<table id="musicItemsTable" class="musicItemsTable blackGradient">
			
			<col class="artistColumn" />
  			<col class="songColumn" />
  			<col class="albumColumn" />
			<thead>
				<tr>
					<th>Artist</th><th>Song</th><th>Album</th>
				</tr>
			</thead>
			<tbody id="musicItemsTableBody"><_% for (var i in musicItems) { 
					var musicItem = musicItems[i];
					var rowClass = i%2 == 0 ? "evenMusicItem" : "oddMusicItem";
					%_>
		  			<tr id="musicItem_<_%=musicItem.id%_>" class="musicItemsTableRow <_%=rowClass%_>" data-musicItemId="<_%=musicItem.id%_>">
		    			<td class="musicItemArtist"><_%=musicItem.artist%_></td>
		    			<td class="musicItemSongName"><_%=musicItem.songName%_></td>
		    			<td class="musicItemAlbum"><_%=musicItem.album%_></td>
		  			</tr><_%}%_>
			</tbody>
		</table>
      </script>
      <script id="trTemplate" type="text/html">
		<_%
		 if(musicItems.length <= 0){return;}
		 for (var i = 0; i < musicItems.length; ++i) { 
					var musicItem = musicItems[i];
                    var rowClass = i%2 == 0 ? "evenMusicItem" : "oddMusicItem";
					%_>
		  			<tr id="musicItem_<_%=musicItem.id%_>" class="musicItemsTableRow <_%=rowClass%_>" data-musicItemId="<_%=musicItem.id%_>">
		    			<td class="musicItemArtist"><_%=musicItem.artist%_></td>
		    			<td class="musicItemSongName"><_%=musicItem.songName%_></td>
		    			<td class="musicItemAlbum"><_%=musicItem.album%_></td>
		  			</tr><_%}%_>
      </script>
  </head>
  <body>

	<div class="floatingTopBox simpleGreyGradient">
		
		<div id="searchBox" class="searchBox">
			<div class="optionsGearButtonContainer">
				<img id="optionsGearButton" class="optionsGearButton" alt="extended options" src="/html/images/optionsGear.png"/>
			</div>
			<div class="searchBoxInputContainer">
				<input id="searchBoxInput" placeholder="search"/>
			</div>
	     	<div class="searchResultContainer buttonGreyGradient">
	     		<span id="searchResult" class="searchResult"><%=musicItems.length%></span>
	     	</div>
	    </div> 
		
		<div id="audioPlayerContainer" class="audioPlayerContainer">
		
			<div class="artistAndSongContainer buttonGreyGradient">
				<div id="artistCurrentlyPlaying" class="currentPlayingArtist">-</div>
				<div class="currentPlayingSeperator">|</div>
				<div id="songCurrentlyPlaying" class="currentPlayingSong">-</div>
			</div>
			
			<div class="playButtonAndVolumeContainer">
				<div class="playButtonContainer">
					<img id="playPauseButton" class="playPauseButton musicControlButton" alt="play or pause button" src="/html/images/play.png"/>
					<img id="nextTrackButton" class="nextTrackButton musicControlButton" alt="next track button" src="/html/images/nextButton.png"/>
				</div>
				<div class="volumeContainer">
					<img id="volumeButton1" class="volumeButton musicControlButton" alt="volume 1" src="/html/images/volumeCircleFilled.png"/>
					<img id="volumeButton2" class="volumeButton musicControlButton" alt="volume 2" src="/html/images/volumeCircleFilled.png"/>
					<img id="volumeButton3" class="volumeButton musicControlButton" alt="volume 3" src="/html/images/volumeCircleNotFilled.png"/>
				</div>
			</div>
		 	
		</div><!-- end audioPlayerContainer -->
		
		<div id="musicControls" class="musicControls"></div>
		
	</div><!-- end floatingTopBox -->
	
	<div id="musicItemsTableContainer">
	</div>

  </body>
</html>
